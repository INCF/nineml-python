
<?xml version='1.0' encoding='UTF-8'?>
<NineML xmlns="http://nineml.net/9ML/1.0">
  <Dynamics name="BrunelIaF">
    <Parameter dimension="voltage" name="Vreset">
      <Annotations/>
    </Parameter>
    <Parameter dimension="time" name="tau">
      <Annotations/>
    </Parameter>
    <Parameter dimension="resistance" name="R">
      <Annotations/>
    </Parameter>
    <Parameter dimension="time" name="tau_rp">
      <Annotations/>
    </Parameter>
    <Parameter dimension="voltage" name="theta">
      <Annotations/>
    </Parameter>
    <AnalogReducePort operator="+" dimension="current" name="Isyn">
      <Annotations/>
    </AnalogReducePort>
    <EventSendPort name="spikeOutput">
      <Annotations/>
    </EventSendPort>
    <AnalogSendPort dimension="time" name="t_rpend">
      <Annotations/>
    </AnalogSendPort>
    <AnalogSendPort dimension="voltage" name="V">
      <Annotations/>
    </AnalogSendPort>
    <StateVariable dimension="time" name="t_rpend">
      <Annotations/>
    </StateVariable>
    <StateVariable dimension="voltage" name="V">
      <Annotations/>
    </StateVariable>
    <Regime name="refractoryRegime">
      <OnCondition target_regime="subthresholdRegime">
        <Trigger>
          <MathInline>t &gt; t_rpend</MathInline>
          <Annotations/>
        </Trigger>
        <Annotations/>
      </OnCondition>
      <Annotations/>
    </Regime>
    <Regime name="subthresholdRegime">
      <TimeDerivative variable="V">
        <MathInline>(Isyn*R - V)/tau</MathInline>
        <Annotations/>
      </TimeDerivative>
      <OnCondition target_regime="refractoryRegime">
        <Trigger>
          <MathInline>V &gt; theta</MathInline>
          <Annotations/>
        </Trigger>
        <StateAssignment variable="V">
          <MathInline>Vreset</MathInline>
          <Annotations/>
        </StateAssignment>
        <StateAssignment variable="t_rpend">
          <MathInline>t + tau_rp</MathInline>
          <Annotations/>
        </StateAssignment>
        <OutputEvent port="spikeOutput">
          <Annotations/>
        </OutputEvent>
        <Annotations/>
      </OnCondition>
      <Annotations/>
    </Regime>
    <Annotations>
      <ValidateDimensions>True</ValidateDimensions>
    </Annotations>
  </Dynamics>
  <Dimension i="1" name="current">
    <Annotations/>
  </Dimension>
  <Dimension i="-1" l="2" m="1" t="-3" name="voltage">
    <Annotations/>
  </Dimension>
  <Dimension i="-2" l="2" m="1" t="-3" name="resistance">
    <Annotations/>
  </Dimension>
  <Dimension name="time" t="1">
    <Annotations/>
  </Dimension>
</NineML>
